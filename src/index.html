<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV-Cam</title>
    <link rel="stylesheet" href="style/global.css">
</head>

<body>
    <video id="camera" autoplay muted playsinline></video>
    <canvas id="overlay" style="position: absolute; top: 0; left: 0; pointer-events: none;"></canvas>
    <div id="three-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 10;"></div>
    
    <!-- 3D按钮容器 - 移到页面底部 -->
    <div id="social-buttons" style="position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 30;"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.14/lottie.min.js"></script>
    <script type="module">
        import { CameraService } from './scripts/video_cap.js';
        import { LottieAnimation } from './scripts/showInfo.js';
        import { SocialButtons3D } from './scripts/BaseInfo.js';
        
        const camera = new CameraService('camera');
        camera.startCamera().then(() => {
            camera.startQRDetection();
        }).catch(err => {
            alert(err.message);
        });
        
        // 初始化3D社交按钮
        const socialButtons = new SocialButtons3D();
    </script>
</body>

</html>